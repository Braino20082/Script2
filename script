-- Services
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- GUI Setup
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ToolPassGUI"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")

local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 220, 0, 160)
MainFrame.Position = UDim2.new(0.4, 0, 0.4, 0)
MainFrame.BackgroundColor3 = Color3.fromRGB(25,25,25)
MainFrame.BorderSizePixel = 0
MainFrame.ClipsDescendants = true
MainFrame.Parent = ScreenGui

local UICorner = Instance.new("UICorner")
UICorner.CornerRadius = UDim.new(0.2,0)
UICorner.Parent = MainFrame

-- Close Button (X)
local CloseButton = Instance.new("TextButton")
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -35, 0, 5)
CloseButton.Text = "X"
CloseButton.TextColor3 = Color3.fromRGB(255,0,0)
CloseButton.BackgroundColor3 = Color3.fromRGB(30,30,30)
CloseButton.Font = Enum.Font.GothamBold
CloseButton.TextScaled = true
CloseButton.Parent = MainFrame

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0.3,0)
closeCorner.Parent = CloseButton

-- Close GUI
CloseButton.MouseButton1Click:Connect(function()
    MainFrame:Destroy()
end)

-- Function to create buttons
local function createButton(name, position, parent)
    local button = Instance.new("TextButton")
    button.Size = UDim2.new(0.8,0,0,40)
    button.Position = position
    button.Text = name
    button.BackgroundColor3 = Color3.fromRGB(30,30,30)
    button.TextColor3 = Color3.fromRGB(0,255,0)
    button.Font = Enum.Font.GothamBold
    button.TextScaled = true
    button.Parent = parent

    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0.2,0)
    corner.Parent = button
    return button
end

-- Buttons
local ToolButton = createButton("Give All Tools", UDim2.new(0.1,0,0.25,0), MainFrame)
local PassButton = createButton("Give All GamePasses", UDim2.new(0.1,0,0.65,0), MainFrame)

-- Tool Giving Logic (sichtbar für andere)
ToolButton.MouseButton1Click:Connect(function()
    for _, tool in pairs(ReplicatedStorage:GetDescendants()) do
        if tool:IsA("Tool") then
            local clone = tool:Clone()
            clone.Parent = LocalPlayer.Backpack
            clone.Parent = LocalPlayer.Character -- direkt ausrüsten, andere sehen es
        end
    end
end)

-- Game-Pass Logic
PassButton.MouseButton1Click:Connect(function()
    -- Beispiel: RemoteEvent zum Geben von Game-Pässen
    for _, obj in pairs(ReplicatedStorage:GetDescendants()) do
        if obj:IsA("RemoteEvent") and obj.Name:lower():find("pass") then
            obj:FireServer() -- versucht alle Game-Pass Remotes auszulösen
        end
    end
    -- Zusätzlich: attribut-basiert (falls Spiel so speichert)
    LocalPlayer:SetAttribute("HasGamePass", true)
    print("GamePasses angefordert")
end)
