-- ========== Start Events Button ==========
createButton("Start Events", function()
    -- Neues GUI Fenster
    local EventFrame = Instance.new("Frame")
    EventFrame.Size = UDim2.new(0, 350, 0, 450)
    EventFrame.Position = UDim2.new(0.5, 0, 0.5, 0)
    EventFrame.AnchorPoint = Vector2.new(0.5, 0.5)
    EventFrame.BackgroundColor3 = Color3.fromRGB(40,40,40)
    EventFrame.Parent = ScreenGui

    local corner = Instance.new("UICorner", EventFrame)
    corner.CornerRadius = UDim.new(0.05,0)

    -- Titel
    local EventTitle = Instance.new("TextLabel")
    EventTitle.Size = UDim2.new(1,0,0,40)
    EventTitle.BackgroundTransparency = 1
    EventTitle.Text = "Event Starter"
    EventTitle.TextColor3 = Color3.fromRGB(220,220,220)
    EventTitle.Font = Enum.Font.GothamBold
    EventTitle.TextSize = 24
    EventTitle.Parent = EventFrame

    -- Schließen
    local Close = Instance.new("TextButton")
    Close.Size = UDim2.new(0,40,0,30)
    Close.Position = UDim2.new(1,-45,0,5)
    Close.Text = "X"
    Close.Font = Enum.Font.GothamBold
    Close.TextColor3 = Color3.fromRGB(255,100,100)
    Close.BackgroundColor3 = Color3.fromRGB(70,70,70)
    Close.Parent = EventFrame
    local cc = Instance.new("UICorner", Close)
    cc.CornerRadius = UDim.new(0.3,0)

    Close.MouseButton1Click:Connect(function()
        EventFrame:Destroy()
    end)

    -- Scroll für Events
    local ScrollEvents = Instance.new("ScrollingFrame")
    ScrollEvents.Size = UDim2.new(1,-10,1,-50)
    ScrollEvents.Position = UDim2.new(0,5,0,45)
    ScrollEvents.BackgroundTransparency = 1
    ScrollEvents.ScrollBarThickness = 6
    ScrollEvents.CanvasSize = UDim2.new(0,0,0,0)
    ScrollEvents.Parent = EventFrame

    local LayoutEvents = Instance.new("UIListLayout", ScrollEvents)
    LayoutEvents.SortOrder = Enum.SortOrder.LayoutOrder
    LayoutEvents.Padding = UDim.new(0,5)

    -- RemoteEvents sammeln
    local function gather(parent)
        local out = {}
        for _, v in pairs(parent:GetDescendants()) do
            if v:IsA("RemoteEvent") then
                table.insert(out, v)
            end
        end
        return out
    end

    local remotes = {}
    for _, p in pairs({game:GetService("ReplicatedStorage"), workspace}) do
        for _, r in pairs(gather(p)) do
            table.insert(remotes, r)
        end
    end

    print("Events für Starter GUI gefunden: "..#remotes)

    for _, r in ipairs(remotes) do
        local btn = Instance.new("TextButton")
        btn.Size = UDim2.new(1,-10,0,35)
        btn.BackgroundColor3 = Color3.fromRGB(90,90,90)
        btn.TextColor3 = Color3.fromRGB(220,220,220)
        btn.Font = Enum.Font.Gotham
        btn.TextScaled = true
        btn.Text = "Event: "..r.Name
        btn.Parent = ScrollEvents

        local bcorner = Instance.new("UICorner", btn)
        bcorner.CornerRadius = UDim.new(0.1,0)

        btn.MouseButton1Click:Connect(function()
            warn("Starte Event -> "..r:GetFullName())
            pcall(function()
                r:FireServer() -- ohne Argumente
            end)
        end)
    end

    -- Canvas Auto-Size
    LayoutEvents:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
        ScrollEvents.CanvasSize = UDim2.new(0,0,0, LayoutEvents.AbsoluteContentSize.Y + 10)
    end)
end)
