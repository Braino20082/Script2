-- Roblox Tool Giver GUI Script
-- Dieses Script erstellt eine sch√∂ne GUI zum Spawnen von Tools

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- GUI Erstellung
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "ToolGiverGUI"
screenGui.Parent = playerGui
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

-- Hauptframe
local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Size = UDim2.new(0, 400, 0, 500)
mainFrame.Position = UDim2.new(0.5, -200, 0.5, -250)
mainFrame.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
mainFrame.BorderSizePixel = 0
mainFrame.Parent = screenGui

-- Abgerundete Ecken f√ºr den Hauptframe
local mainCorner = Instance.new("UICorner")
mainCorner.CornerRadius = UDim.new(0, 15)
mainCorner.Parent = mainFrame

-- Schatten-Effekt
local shadow = Instance.new("Frame")
shadow.Name = "Shadow"
shadow.Size = UDim2.new(1, 6, 1, 6)
shadow.Position = UDim2.new(0, -3, 0, 3)
shadow.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
shadow.BackgroundTransparency = 0.7
shadow.ZIndex = mainFrame.ZIndex - 1
shadow.Parent = mainFrame

local shadowCorner = Instance.new("UICorner")
shadowCorner.CornerRadius = UDim.new(0, 15)
shadowCorner.Parent = shadow

-- Titel
local titleBar = Instance.new("Frame")
titleBar.Name = "TitleBar"
titleBar.Size = UDim2.new(1, 0, 0, 60)
titleBar.Position = UDim2.new(0, 0, 0, 0)
titleBar.BackgroundColor3 = Color3.fromRGB(65, 105, 255)
titleBar.BorderSizePixel = 0
titleBar.Parent = mainFrame

local titleCorner = Instance.new("UICorner")
titleCorner.CornerRadius = UDim.new(0, 15)
titleCorner.Parent = titleBar

-- Titel-Fix f√ºr untere Ecken
local titleFix = Instance.new("Frame")
titleFix.Size = UDim2.new(1, 0, 0, 15)
titleFix.Position = UDim2.new(0, 0, 1, -15)
titleFix.BackgroundColor3 = Color3.fromRGB(65, 105, 255)
titleFix.BorderSizePixel = 0
titleFix.Parent = titleBar

local titleText = Instance.new("TextLabel")
titleText.Name = "TitleText"
titleText.Size = UDim2.new(1, -20, 1, 0)
titleText.Position = UDim2.new(0, 10, 0, 0)
titleText.BackgroundTransparency = 1
titleText.Text = "üîß Tool Giver"
titleText.TextColor3 = Color3.fromRGB(255, 255, 255)
titleText.TextScaled = true
titleText.Font = Enum.Font.GothamBold
titleText.Parent = titleBar

-- Schlie√üen Button
local closeButton = Instance.new("TextButton")
closeButton.Name = "CloseButton"
closeButton.Size = UDim2.new(0, 40, 0, 40)
closeButton.Position = UDim2.new(1, -50, 0, 10)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 85, 85)
closeButton.Text = "‚úï"
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.TextScaled = true
closeButton.Font = Enum.Font.GothamBold
closeButton.BorderSizePixel = 0
closeButton.Parent = titleBar

local closeCorner = Instance.new("UICorner")
closeCorner.CornerRadius = UDim.new(0, 8)
closeCorner.Parent = closeButton

-- Scroll Frame f√ºr Tools
local scrollFrame = Instance.new("ScrollingFrame")
scrollFrame.Name = "ToolScrollFrame"
scrollFrame.Size = UDim2.new(1, -20, 1, -140)
scrollFrame.Position = UDim2.new(0, 10, 0, 70)
scrollFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
scrollFrame.BorderSizePixel = 0
scrollFrame.ScrollBarThickness = 8
scrollFrame.ScrollBarImageColor3 = Color3.fromRGB(65, 105, 255)
scrollFrame.Parent = mainFrame

local scrollCorner = Instance.new("UICorner")
scrollCorner.CornerRadius = UDim.new(0, 10)
scrollCorner.Parent = scrollFrame

-- Layout f√ºr Tools
local listLayout = Instance.new("UIListLayout")
listLayout.SortOrder = Enum.SortOrder.Name
listLayout.Padding = UDim.new(0, 5)
listLayout.Parent = scrollFrame

local listPadding = Instance.new("UIPadding")
listPadding.PaddingTop = UDim.new(0, 10)
listPadding.PaddingBottom = UDim.new(0, 10)
listPadding.PaddingLeft = UDim.new(0, 10)
listPadding.PaddingRight = UDim.new(0, 10)
listPadding.Parent = scrollFrame

-- Such-Eingabefeld
local searchFrame = Instance.new("Frame")
searchFrame.Name = "SearchFrame"
searchFrame.Size = UDim2.new(1, -20, 0, 40)
searchFrame.Position = UDim2.new(0, 10, 1, -50)
searchFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
searchFrame.BorderSizePixel = 0
searchFrame.Parent = mainFrame

local searchCorner = Instance.new("UICorner")
searchCorner.CornerRadius = UDim.new(0, 8)
searchCorner.Parent = searchFrame

local searchBox = Instance.new("TextBox")
searchBox.Name = "SearchBox"
searchBox.Size = UDim2.new(1, -20, 1, 0)
searchBox.Position = UDim2.new(0, 10, 0, 0)
searchBox.BackgroundTransparency = 1
searchBox.Text = ""
searchBox.PlaceholderText = "üîç Tool suchen..."
searchBox.TextColor3 = Color3.fromRGB(255, 255, 255)
searchBox.PlaceholderColor3 = Color3.fromRGB(150, 150, 150)
searchBox.TextScaled = true
searchBox.Font = Enum.Font.Gotham
searchBox.Parent = searchFrame

-- Tool Liste (Beispiel-Tools)
local toolsList = {
    "Sword", "Gun", "Bow", "Hammer", "Wrench", "Screwdriver",
    "Paintball Gun", "Rocket Launcher", "Sniper", "Knife",
    "Axe", "Pickaxe", "Shovel", "Flashlight", "Binoculars",
    "Camera", "Megaphone", "Handcuffs", "Taser", "Shield"
}

-- Funktion zum Erstellen eines Tool-Buttons
local function createToolButton(toolName)
    local toolButton = Instance.new("TextButton")
    toolButton.Name = toolName .. "Button"
    toolButton.Size = UDim2.new(1, 0, 0, 45)
    toolButton.BackgroundColor3 = Color3.fromRGB(55, 55, 65)
    toolButton.Text = "üîß " .. toolName
    toolButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    toolButton.TextScaled = true
    toolButton.Font = Enum.Font.Gotham
    toolButton.BorderSizePixel = 0
    toolButton.Parent = scrollFrame
    
    local buttonCorner = Instance.new("UICorner")
    buttonCorner.CornerRadius = UDim.new(0, 8)
    buttonCorner.Parent = toolButton
    
    -- Hover-Effekt
    local originalColor = toolButton.BackgroundColor3
    
    toolButton.MouseEnter:Connect(function()
        local tween = TweenService:Create(toolButton, 
            TweenInfo.new(0.2, Enum.EasingStyle.Quad), 
            {BackgroundColor3 = Color3.fromRGB(65, 105, 255)}
        )
        tween:Play()
    end)
    
    toolButton.MouseLeave:Connect(function()
        local tween = TweenService:Create(toolButton, 
            TweenInfo.new(0.2, Enum.EasingStyle.Quad), 
            {BackgroundColor3 = originalColor}
        )
        tween:Play()
    end)
    
    -- Tool geben Funktion
    toolButton.MouseButton1Click:Connect(function()
        giveTool(toolName)
        
        -- Visuelles Feedback
        local originalSize = toolButton.Size
        local tween1 = TweenService:Create(toolButton, 
            TweenInfo.new(0.1, Enum.EasingStyle.Quad), 
            {Size = UDim2.new(1, -10, 0, 40)}
        )
        local tween2 = TweenService:Create(toolButton, 
            TweenInfo.new(0.1, Enum.EasingStyle.Quad), 
            {Size = originalSize}
        )
        
        tween1:Play()
        tween1.Completed:Connect(function()
            tween2:Play()
        end)
    end)
    
    return toolButton
end

-- Alle Tool-Buttons erstellen
local toolButtons = {}
for _, toolName in pairs(toolsList) do
    toolButtons[toolName] = createToolButton(toolName)
end

-- Scroll-Frame Gr√∂√üe anpassen
scrollFrame.CanvasSize = UDim2.new(0, 0, 0, #toolsList * 50 + 20)

-- Such-Funktion
searchBox.Changed:Connect(function()
    local searchText = searchBox.Text:lower()
    local visibleCount = 0
    
    for toolName, button in pairs(toolButtons) do
        if toolName:lower():find(searchText) or searchText == "" then
            button.Visible = true
            visibleCount = visibleCount + 1
        else
            button.Visible = false
        end
    end
    
    scrollFrame.CanvasSize = UDim2.new(0, 0, 0, visibleCount * 50 + 20)
end)

-- Tool geben Funktion
function giveTool(toolName)
    -- Versuche zuerst aus ReplicatedStorage zu laden
    local tool = ReplicatedStorage:FindFirstChild(toolName)
    
    if not tool then
        -- Falls nicht gefunden, erstelle ein einfaches Tool
        tool = Instance.new("Tool")
        tool.Name = toolName
        tool.RequiresHandle = true
        
        local handle = Instance.new("Part")
        handle.Name = "Handle"
        handle.Size = Vector3.new(1, 4, 0.2)
        handle.Material = Enum.Material.Neon
        handle.BrickColor = BrickColor.Random()
        handle.Parent = tool
        
        -- Sound-Effekt
        local sound = Instance.new("Sound")
        sound.SoundId = "rbxasset://sounds/electronicpingshort.wav"
        sound.Volume = 0.5
        sound.Parent = handle
        
        tool.Equipped:Connect(function()
            sound:Play()
        end)
    else
        tool = tool:Clone()
    end
    
    -- Tool zum Spieler-Backpack hinzuf√ºgen
    tool.Parent = player.Backpack
    
    print("Tool gegeben: " .. toolName)
end

-- GUI Funktionen
local isOpen = true

closeButton.MouseButton1Click:Connect(function()
    isOpen = false
    local tween = TweenService:Create(mainFrame, 
        TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), 
        {Size = UDim2.new(0, 0, 0, 0), Position = UDim2.new(0.5, 0, 0.5, 0)}
    )
    tween:Play()
    
    tween.Completed:Connect(function()
        screenGui:Destroy()
    end)
end)

-- Dragging-Funktion f√ºr die GUI
local dragToggle = nil
local dragStart = nil
local startPos = nil

local function updateInput(input)
    local delta = input.Position - dragStart
    local position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, 
                              startPos.Y.Scale, startPos.Y.Offset + delta.Y)
    mainFrame.Position = position
end

titleBar.InputBegan:Connect(function(input)
    if (input.UserInputType == Enum.UserInputType.MouseButton1 or 
        input.UserInputType == Enum.UserInputType.Touch) then
        dragToggle = true
        dragStart = input.Position
        startPos = mainFrame.Position
        
        input.Changed:Connect(function()
            if input.UserInputState == Enum.UserInputState.End then
                dragToggle = false
            end
        end)
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseMovement or 
       input.UserInputType == Enum.UserInputType.Touch then
        if dragToggle then
            updateInput(input)
        end
    end
end)

-- √ñffnungs-Animation
mainFrame.Size = UDim2.new(0, 0, 0, 0)
mainFrame.Position = UDim2.new(0.5, 0, 0.5, 0)

local openTween = TweenService:Create(mainFrame, 
    TweenInfo.new(0.5, Enum.EasingStyle.Back, Enum.EasingDirection.Out), 
    {Size = UDim2.new(0, 400, 0, 500), Position = UDim2.new(0.5, -200, 0.5, -250)}
)
openTween:Play()

print("Tool Giver GUI geladen!")
print("Verwende die Suchfunktion um schnell Tools zu finden!")
